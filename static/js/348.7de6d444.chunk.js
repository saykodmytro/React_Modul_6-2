"use strict";(self.webpackChunkReact_Modul_6_2=self.webpackChunkReact_Modul_6_2||[]).push([[348],{5348:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var o,r=n(3433),c=n(1413),s=n(2791),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"}),"")},u="Product_product__hQeO1",a="Product_productImg__+a4qi",l="Product_discountBage__jCcC4",d="Product_apology__pj8OQ",h="Product_productAddToCartBtn__RIA29",p=n(9153),f=n(184),x=function(t){var e=t.id,n=t.title,o=t.price,r=t.discount,c=t.handleDeleteProduct,i=(0,s.useContext)(p.t),x=i.dayOfTheMonth,m=i.openModal,j={backgroundColor:r?"#97e605":"#f9bf04"};return(0,f.jsxs)("div",{className:u,style:j,children:[(0,f.jsxs)("b",{children:["Day of the month: ",x]}),(0,f.jsx)("img",{src:"https://images.pexels.com/photos/461198/pexels-photo-461198.jpeg?dpr=2&h=480&w=640",alt:"Tacos With Lime",width:"640",className:a}),(0,f.jsxs)("h2",{children:[n," "]}),r?(0,f.jsxs)("h3",{className:l,children:["Discount: ",r,"$"]}):(0,f.jsx)("p",{className:d,children:"Sorry, but discount on this type of product has expired!"}),(0,f.jsxs)("p",{children:["Price: ",o,"$"]}),(0,f.jsx)("button",{className:h,type:"button",children:"Add to cart"}),(0,f.jsx)("button",{onClick:function(){return m({title:n,price:o,discount:r})},className:h,type:"button",children:"See the details"}),(0,f.jsx)("button",{onClick:function(){return c(e)},className:h,type:"button",children:"\xd7"})]})},m=n(9439),j={form:"ProductForm_form__g-Bdi",formLarge:"ProductForm_formLarge__HF+87",labelText:"ProductForm_labelText__TbfmW"},b=function(t){var e=t.handleAddProduct,n=(0,s.useState)(""),o=(0,m.Z)(n,2),r=o[0],c=o[1],i=(0,s.useState)(""),u=(0,m.Z)(i,2),a=u[0],l=u[1],d=(0,s.useState)(!1),h=(0,m.Z)(d,2),p=h[0],x=h[1],b=(0,s.useState)(""),g=(0,m.Z)(b,2),v=g[0],_=g[1],y=function(t){var e="checkbox"===t.target.type?t.target.checked:t.target.value;switch(t.target.name){case"title":return void c(e);case"price":return void l(e);case"hasDiscount":return void x(e);case"discount":return void _(e);default:return}};return(0,f.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={title:r,price:Number.parseFloat(a),discount:p?Number.parseFloat(v):null};e(n),c(""),l(""),x(!1),_("")},className:"".concat(j.form," ").concat(j.formLarge),children:["Spagetti"===r&&(0,f.jsx)("h2",{children:"Congrats! You won a promocode\ud83d\ude12\ud83d\ude2d - #R3E2A1\ud83c\udf89"}),(0,f.jsxs)("label",{className:j.formLabel,children:[(0,f.jsx)("p",{className:j.labelText,children:"Title:"}),(0,f.jsx)("input",{type:"text",name:"title",onChange:y,value:r})]}),(0,f.jsxs)("label",{className:j.formLabel,children:[(0,f.jsx)("p",{className:j.labelText,children:"Price:"}),(0,f.jsx)("input",{type:"text",name:"price",onChange:y,value:a})]}),(0,f.jsxs)("label",{className:j.formLabel,children:[(0,f.jsx)("input",{type:"checkbox",name:"hasDiscount",onChange:y,checked:p})," ","Has discount?"]}),p&&(0,f.jsxs)("label",{className:j.formLabel,children:[(0,f.jsx)("p",{className:j.labelText,children:"Discount:"}),(0,f.jsx)("input",{type:"text",name:"discount",onChange:y,value:v})]}),(0,f.jsx)("button",{type:"submit",children:"Add Product"})]})},g="Section_section__Z2PLw",v=function(t){var e=t.children,n=t.title,o=void 0!==n&&n;return(0,f.jsxs)("section",{className:g,children:[o&&(0,f.jsx)("h2",{children:o}),e]})},_=n(168),y=n(5867).ZP.div(o||(o=(0,_.Z)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: ",";\n  /* width: 100vw;\n     height: 100vh; */\n  &:hover {\n    cursor: pointer;\n  }\n  .modal {\n    padding: 20px;\n    max-width: 450px;\n    width: 100%;\n    min-height: 450px;\n    background-color: white;\n    border-radius: 10px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    &:hover {\n      cursor: auto;\n    }\n  }\n\n  .closeBtn {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n  }\n"])),(function(t){return t.specialLook?"rgba(255, 0, 0, 0.5)":"rgba(0, 0, 0, 0.5)"})),P=function(){var t=(0,s.useContext)(p.t),e=t.modalData,n=t.closeModal,o=(0,s.useState)(1),r=(0,m.Z)(o,2),c=r[0],i=r[1],u=(0,s.useRef)(null),a=(0,s.useRef)(!0);(0,s.useEffect)((function(){var t=function(t){"Escape"===t.code&&n()};return window.addEventListener("keydown",t),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",t),document.body.style.overflow="auto"}}),[n]);(0,s.useEffect)((function(){u.current&&u.current.focus()}),[]);return(0,s.useEffect)((function(){return!1===a.current&&console.log("counter changed",c),function(){a.current=!1}}),[c]),(0,f.jsx)(y,{onClick:function(t){t.target===t.currentTarget&&n()},children:(0,f.jsxs)("div",{className:"modal",children:[(0,f.jsx)("button",{onClick:n,className:"closeBtn",children:"\u274c"}),(0,f.jsx)("h2",{children:"Product Details"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("h3",{children:["Title: ",e.title]}),(0,f.jsxs)("p",{children:["Price: ",e.price,"$"]}),(0,f.jsxs)("p",{children:["Discount: ",e.discount,"$"]})]}),(0,f.jsx)("input",{ref:u,type:"text"}),(0,f.jsx)("button",{onClick:function(){console.log(u.current),u.current.focus()},children:"Select input"}),(0,f.jsxs)("button",{onClick:function(){return i((function(t){return t+1}))},children:["Product count: ",c]})]})})},w="App_productList__ZcthI",N=n(9434),C=function(){var t=(0,N.I0)(),e=(0,s.useContext)(p.t).isOpenModal,n=(0,N.v9)((function(t){return t.productsStore.products}));console.log("products: ",n),(0,s.useEffect)((function(){var t=JSON.stringify(n);localStorage.setItem("products",t)}),[n]);var o=function(e){t({type:"products/deleteProduct",payload:e})},u=(0,r.Z)(n).sort((function(t,e){return e.discount-t.discount}));return(0,f.jsxs)("div",{children:[(0,f.jsx)(v,{title:"Add product Form",children:(0,f.jsx)(b,{handleAddProduct:function(e){if(n.some((function(t){return t.title===e.title})))alert("Oops, produc with title '".concat(e.title,"' already exists!"));else{var o=(0,c.Z)((0,c.Z)({},e),{},{id:i()});t({type:"products/addProduct",payload:o})}}})}),(0,f.jsx)(v,{title:"Product List",children:(0,f.jsx)("div",{className:w,children:u.map((function(t){return(0,f.jsx)(x,{id:t.id,title:t.title,price:t.price,discount:t.discount,handleDeleteProduct:o},t.id)}))})}),e&&(0,f.jsx)(P,{})]})}}}]);
//# sourceMappingURL=348.7de6d444.chunk.js.map